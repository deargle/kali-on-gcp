# https://github.com/mitchellh/vagrant-google
Vagrant.configure("2") do |config|

  config.vm.define "gcp" do |gcp|
    gcp.vm.box = "google/gce" # dummy gcp vagrantbox provided by atlas
    config.vm.provider :google do |google, override|
      google.google_project_id = "deargle-infosec-private"
      google.google_json_key_location = "../account.json"
      google.image_family = "kali-rolling-gcpized-nestedvm"
      google.disk_size = 20

      override.ssh.username = 'provisioner'
      override.ssh.private_key_path = 'id_rsa'
    end
  end

  config.vm.provision "shell", path: "scripts/install-virtmanager.sh"
  #config.vm.provision "shell", path: "scripts/vagrant-add-msf2.sh"
  #config.vm.provision "shell", path: "scripts/vagrant-add-so.sh"
  #config.vm.provision "shell", path: "scripts/vagrant-add-server2019.sh"
end
